{% extends "rsvp/base.html" %} {% block content %}
<div class="space-y-8">
  <!-- Section for attending guests -->
  {% if attending_guest_forms %}
  <div>
    <h2 class="text-3xl text-rose-800 mb-8 font-normal">RSVP Details for Attending Guests</h2>
    <form method="post" class="space-y-6">
      {% csrf_token %} {% for guest, form in attending_guest_forms %}
      <div class="space-y-4 p-4 border border-rose-200 rounded-lg">
        <h3 class="text-xl text-rose-700 font-medium">{{ guest.first_name }} {{ guest.last_name }} âœ…</h3>
        <div class="space-y-4">
          {% for field in form %}
            <div>
              <label class="block text-gray-700 mb-2">{{ field.label }}</label>
              {{ field|add_class:"w-full max-w-md px-4 py-3 border-2 border-rose-300 bg-white text-base rounded-md font-serif transition-colors focus:outline-none focus:border-rose-800 focus:ring-4 focus:ring-rose-300/20" }}
            </div>
          {% endfor %}
        </div>
      </div>
      {% endfor %} {% endif %}

      <!-- Section for declined guests -->
      {% if not_attending_guests %}
      <div>
        <h2 class="text-3xl text-rose-800 mb-8 font-normal">We'll Miss You! ðŸ˜¢</h2>
        <p class="text-black text-xl mb-4">For those who can't make it - we'd still love to stay in touch!</p>

        {% for guest in not_attending_guests %}
        <div class="space-y-4 p-4 border border-rose-200 rounded-lg mb-4">
          <h3 class="text-xl text-rose-700 font-medium">{{ guest.first_name }} {{ guest.last_name }}</h3>

          <div>
            <label for="email_{{ guest.id }}" class="block text-gray-700 mb-2">Email (for photos!):</label>
            <input
              type="email"
              id="email_{{ guest.id }}"
              name="email_{{ guest.id }}"
              value="{{ guest.email }}"
              placeholder="your.email@example.com"
              class="w-full max-w-md px-4 py-3 border-2 border-rose-300 bg-white text-base rounded-md font-serif transition-colors focus:outline-none focus:border-rose-800 focus:ring-4 focus:ring-rose-300/20"
            />
          </div>

          <div>
            <label for="message_{{ guest.id }}" class="block text-gray-700 mb-2">Message for the couple:</label>
            <textarea
              id="message_{{ guest.id }}"
              name="message_{{ guest.id }}"
              rows="3"
              placeholder="Send your love..."
              class="w-full max-w-md px-4 py-3 border-2 border-rose-300 bg-white text-base rounded-md font-serif transition-colors focus:outline-none focus:border-rose-800 focus:ring-4 focus:ring-rose-300/20"
            >
{{ guest.message }}</textarea
            >
          </div>
        </div>
        {% endfor %}
      </div>
      {% endif %} {% if attending_guest_forms or not_attending_guests %}
      <button type="submit" class="bg-rose-300 text-gray-800 text-lg py-3 px-10 border-none rounded-3xl cursor-pointer font-serif uppercase tracking-wider transition-all hover:bg-rose-400 hover:-translate-y-0.5">Submit All RSVPs</button>
    </form>
    {% endif %}
</div>
{% endblock %}
